# 信息时代 Imformation Age

## 简介

定义了一些新方块（网络设备）。

各种网络设备之间可以互相通信，网络设备和世界交互（通过比较器输出、监测充能状态、消化和生成物品等）。

消化和生成物品机制不允许无限生产物品，但它们的特性为远距离快速传送物品提供了一种新的方式。

## 旨

本 mod 旨在激发广大玩家对计算机网络技术的兴趣，为国家培养网络安全人才奠定基础，维护人类命运共同体的网络安全。

## 方块

这些方块都属于**设备**类型 (`net.leawind.infage.block.DeviceBlock`)。

### 共同特征

#### 接口 ports

任何设备都有至少1个接口。
通过接口可以与有限距离内的其他设备相连。


#### 事件 events

当设备的特定事件触发时，可以执行相应的 Javascript 脚本。

公共的事件如下：

* 初始化，任何事件脚本执行前都会先执行这个初始化事件，且与其运行在同一上下文中。
* 启动，当设备启动或重启时触发。
* 任意接口与其他设备相连接时触发。
* 任意接口与其他设备断开连接时触发。
* 任意接口收到数据时触发。(待定)

#### 事件脚本 scripts

每个事件都有与之对应的脚本，玩家可以在设备的用户界面里编辑。

脚本语言是 Javascript，使用的是 Nashorn 脚本引擎。

除了初始化事件外，一个设备的每个事件脚本都有独立的上下文，所以它们的变量不能直接共享。

初始化事件会在每次执行其他脚本前运行。

#### 存储 storage

在脚本中可以通过 storage 来永久存储字符串数据。这些数据会保存在方块的 NBT 标签中。

存储的字符串长度是有限的。


### 计算机

`net.leawind.infage.block.Computer`
在计算机的脚本中，可以做一些较为“聪明”的操作，例如判断物品令牌对应的物品类型。

### 交换机

`net.leawind.infage.block.Switch`

它可以实现现实中交换机或路由器的功能（取决于你为它配置的脚本）

### 充能传感器

`net.leawind.infage.block.PowerSensor`

当这个方块的充能状态发生变化时，就会触发其中的 powerChange 事件。

###  充能控制器

`net.leawind.infage.block.PowerControler`

可以控制它通过比较器输出红石信号的强度。

### 物品消化器

`net.leawind.infage.block.ItemRegester`

物品消化器可以将物品兑换为一个 物品令牌。

物品令牌是一个长度为64的无规则字符串，每个字符哟64种可能性。

在兑换令牌时，我并不会检测新令牌是否与已有令牌重复，但是不用担心碰撞。

因为可能的令牌总数是
$$
\begin{align}
n &= 64 ^ {64} \\
&= 39402006196394479212279040100143613805079739270465446667948293404245721771497210611414266254884915640806627990306816 \\
&\approx 3.9402 \times 10^{115}
\end{align}
$$
碰撞几率可以忽略不计。

### 物品生成器

`net.leawind.infage.block.ItemGenerator`

物品生成器可以将物品令牌兑换成相应的物品，随后这个令牌就会立即失效。

### 磁盘组

`net.leawind.infage.block.Disk`

磁盘组唯一的特点就是可以存储较大量的数据。

## 物品

以上所有方块都有与之对应的物品，<del>除此之外，还有一些其他物品。</del>

